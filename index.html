<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Madata: Make any cloud service with an API your backend!</title>
	<link rel="icon" href="./logo.svg">
	<link rel="stylesheet" href="./style.css" />

	
	
</head>
<body>


<nav>
	<a href="/docs/">Docs</a>
	<a href="/backends/">Backends</a>
	<a href="/api/">API</a>
	<a href="https://github.com/madatajs/madata">GitHub</a>
</nav>



<header>
<img src="logo.svg" width="100" alt="Logo showing a cloud presented as a tree" />
<h1>Madata</h1>
<p>Make any cloud service with an API your backend!
A spinoff from <a href="https://mavo.io">Mavo</a>.</p>
</header>
<main>
<h2>Getting Started</h2>
<p>Madata provides a unified API for authentication, reading &amp; storing data, as well as file uploads (where supported), regardless of the storage service used.
You don’t need to worry about differences between the different APIs, and swapping one storage service for another is as easy as changing a URL!
Each supported backend documents what kinds of URLs it supports.
Then <code>Backend.create(url)</code> automatically gets you an instance of the corresponding backend.</p>
<pre><code class="language-js">import Backend from &quot;https://madata.dev/src/index.js&quot;;

let backend = Backend.create(&quot;https://github.com/leaverou/repo/data.json&quot;);
let json = await backend.load();

json.happy = true;

await backend.store();

console.log(&quot;Stored some data!&quot;);
</code></pre>
<h2>Supported backends</h2>
<table>
<thead>
<tr>
<th>Service</th>
<th>Auth?</th>
<th>Writes?</th>
<th>Uploads?</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/backends/github/">GitHub</a></td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr>
<td><a href="/backends/github/">GitHub Gist</a></td>
<td>✅</td>
<td>✅</td>
<td></td>
</tr>
<tr>
<td><a href="/backends/github/">GitHub API</a></td>
<td>✅</td>
<td></td>
<td></td>
</tr>
<tr>
<td><a href="/backends/google/">Google Drive</a></td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr>
<td><a href="/backends/dropbox">Dropbox</a></td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr>
<td><a href="/backends/google/">Google Firebase</a></td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr>
<td><a href="/backends/google/">Google Sheets</a></td>
<td>✅</td>
<td>✅</td>
<td></td>
</tr>
<tr>
<td><a href="/backends/google/">Google Calendar</a></td>
<td>✅</td>
<td></td>
<td></td>
</tr>
<tr>
<td><a href="/backends/basic/">Local storage</a></td>
<td></td>
<td>✅</td>
<td></td>
</tr>
<tr>
<td><a href="/backends/basic/">HTML Element</a></td>
<td></td>
<td>✅</td>
<td></td>
</tr>
<tr>
<td><a href="/backends/basic/">Basic remote fetching</a></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h3>Authentication</h3>
<p>Show auth status to the user:</p>
<pre><code class="language-js">backend.addEventListener(&quot;mv-login&quot;, evt =&gt; {
	header.classList.add(&quot;logged-in&quot;);

	let user = backend.user;
	my_username.textContent = user.username;
	my_avatar.src = user.avatar;
});

backend.addEventListener(&quot;mv-logout&quot;, evt =&gt; {
	header.classList.remove(&quot;logged-in&quot;);
});
</code></pre>
<p>To have buttons for login/logout:</p>
<pre><code class="language-js">loginButton.addEventListener(&quot;click&quot;, evt =&gt; backend.login());
logoutButton.addEventListener(&quot;click&quot;, evt =&gt; backend.logout());
</code></pre>
<p>Read more about <a href="/docs/authentication/">authentication</a></p>
<h3>Storage</h3>
<p>Save:</p>
<pre><code class="language-js">let fileInfo = await backend.store(json);
</code></pre>
<h3>Uploads</h3>
<p>For backends that support uploads, this is how simple it could be to create an image uploader:</p>
<pre><code class="language-html">&lt;input type=file id=uploader&gt;
</code></pre>
<pre><code class="language-js">uploadForm.addEventListener(&quot;submit&quot;, evt =&gt; {
	evt.preventDefault();

	let file = uploader.files[0];

	if (file &amp;&amp; file.type.startsWith(&quot;image/&quot;)) {
		backend.upload(file, `images/${file.name}`);
	}
});
</code></pre>
<p>You can check if <code>backend.upload</code> is defined to see if the backend supports image uploads.</p>
</main>



<script src="./global.js" type="module"></script>

</body>
</html>